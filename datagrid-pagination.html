<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Basic Tree - jQuery EasyUI Demo</title>
    <link rel="stylesheet" type="text/css" href="./themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="./themes/icon.css">
    <!-- <link rel="stylesheet" type="text/css" href="../demo.css"> -->
    <script type="text/javascript" src="./jquery.min.js"></script>
    <script type="text/javascript" src="./jquery.easyui.min.js"></script>
</head>
<body>
	<table id="dg"></table>
	<script type="text/javascript">
		function pagerFilter(data){
		    if (typeof data.length == 'number' && typeof data.splice == 'function') {   // is array  
		        data = {
		            total: data.length,
		            rows: data
		        }
		    }
		    var dg = $(this);
		    var opts = dg.datagrid('options');
		    var pager = dg.datagrid('getPager');
		    pager.pagination({
		        onSelectPage: function (pageNum, pageSize) {
		            opts.pageNumber = pageNum;
		            opts.pageSize = pageSize;
		            pager.pagination('refresh', {
		                pageNumber: pageNum,
		                pageSize: pageSize
		            });
		            dg.datagrid('loadData', data);
		        }
		    });
		    if (!data.originalRows) {
		        data.originalRows = (data.rows);
		    }
		    var start = (opts.pageNumber - 1) * parseInt(opts.pageSize);
		    var end = start + parseInt(opts.pageSize);
		    data.rows = (data.originalRows.slice(start, end));
		    return data;
		}


		$('#dg').datagrid({ loadFilter: pagerFilter }).datagrid({
			height: 388,
		    columns:[[
		        {field:'code',title:'Code',width:100},
		        {field:'name',title:'Name',width:100},
		        {field:'price',title:'Price',width:100,align:'right'}
		    ]],
		    scrollbarSize: 0,
		    fitColumns: true,
		    data: [
		    	{code: '123', name: '张三', price: 100},
		    	{code: '22', name: '李四', price: 22},
		    	{code: '123', name: '张三', price: 100},
		    	{code: '22', name: '李四', price: 22},
		    	{code: '123', name: '张三', price: 100},
		    	{code: '22', name: '李四', price: 22},
		    	{code: '123', name: '张三', price: 100},
		    	{code: '22', name: '李四', price: 22},
		    	{code: '123', name: '张三', price: 100},
		    	{code: '22', name: '李四', price: 22},
		    	{code: '123', name: '张三', price: 100},
		    	{code: '22', name: '李四', price: 22},
		    	{code: '123', name: '张三', price: 90},
		    	{code: '22', name: '李四', price: 23},
		    	{code: '123', name: '张三', price: 90},
		    	{code: '22', name: '李四', price: 23},
		    	{code: '123', name: '张三', price: 90},
		    	{code: '22', name: '李四', price: 23},
		    	{code: '123', name: '张三', price: 90},
		    	{code: '22', name: '李四', price: 23},
		    	{code: '123', name: '张三', price: 90},
		    	{code: '22', name: '李四', price: 23},
		    	{code: '123', name: '张三', price: 90},
		    	{code: '22', name: '李四', price: 23},
		    	{code: '123', name: '张三', price: 90},
		    	{code: '22', name: '李四', price: 23},
		    ],
		    rownumbers : true,
		    pagination: true,
		    pageNumber: 1,
		    pageSize: 10,
		    pageList: [10,20,30,40,50]
		});
	</script>
</body>
</html>